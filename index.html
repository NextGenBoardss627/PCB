<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PCB Store</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      background: linear-gradient(to right, #2c3e50, #3498db);
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: rgba(0, 0, 0, 0.7);
      padding: 1rem;
      text-align: center;
    }
    .products {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      padding: 1rem;
    }
    .product {
      background: #fff;
      color: #000;
      border-radius: 8px;
      padding: 1rem;
      width: 200px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .product img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
    }
    button {
      margin-top: 0.5rem;
      padding: 0.5rem;
      background: #3498db;
      border: none;
      color: white;
      cursor: pointer;
      border-radius: 5px;
    }
    .view-cart {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: orange;
    }
    #cart {
      position: fixed;
      top: 4rem;
      right: 1rem;
      background: #fff;
      color: #000;
      width: 300px;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      display: none;
      max-height: 70vh;
      overflow-y: auto;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    .cart-item button {
      background: red;
      padding: 0.2rem 0.5rem;
      font-size: 0.8rem;
    }

    /* Cart Container Style at bottom */
    .cart-container {
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    .cart-container .cart-item {
      background: white;
      color: black;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    .cart-container .cart-item h3 {
      margin: 0 0 0.5rem 0;
    }
    .empty {
      text-align: center;
      font-size: 1.2rem;
      color: red;
    }
  </style>
</head>
<body>
  <header>
    <h1>Welcome to Our PCB Store</h1>
  </header>

  <main class="products">
    <div class="product">
      <img src="img1.jpg" alt="PCB 1">
      <h3>PCB Type A</h3>
      <p>Price: ₹100</p>
      <button onclick="addToCart('PCB Type A', 100)">Add to Cart</button>
    </div>
    <div class="product">
      <img src="img2.jpg" alt="PCB 2">
      <h3>PCB Type B</h3>
      <p>Price: ₹150</p>
      <button onclick="addToCart('PCB Type B', 150)">Add to Cart</button>
    </div>
    <div class="product">
      <img src="img3.jpg" alt="PCB 3">
      <h3>PCB Type C</h3>
      <p>Price: ₹200</p>
      <button onclick="addToCart('PCB Type C', 200)">Add to Cart</button>
    </div>
  </main>

  <button class="view-cart" onclick="toggleCart()">View Cart</button>

  <div id="cart">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <p><strong>Total: ₹<span id="cart-total">0</span></strong></p>
  </div>

  <hr />
  <section id="cart-container" class="cart-container"></section>

  <script>
    function addToCart(name, price) {
      const product = { name, price };
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.push(product);
      localStorage.setItem("cart", JSON.stringify(cart));
      alert(name + " added to cart!");
      renderCart();
      renderCartContainer(); // update bottom cart
    }

    function toggleCart() {
      const cartDiv = document.getElementById("cart");
      cartDiv.style.display = cartDiv.style.display === "none" ? "block" : "none";
      renderCart();
    }

    function renderCart() {
      const cartItems = document.getElementById("cart-items");
      const cartTotal = document.getElementById("cart-total");
      const cart = JSON.parse(localStorage.getItem("cart")) || [];

      cartItems.innerHTML = "";
      let total = 0;

      cart.forEach((item, index) => {
        total += item.price;
        const itemDiv = document.createElement("div");
        itemDiv.className = "cart-item";
        itemDiv.innerHTML = `
          ${item.name} - ₹${item.price}
          <button onclick="removeFromCart(${index})">X</button>
        `;
        cartItems.appendChild(itemDiv);
      });

      cartTotal.innerText = total;
    }

    function removeFromCart(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
      renderCartContainer(); // update bottom cart
    }

    function renderCartContainer() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const container = document.getElementById("cart-container");

      container.innerHTML = "";

      if (cart.length === 0) {
        container.innerHTML = "<p class='empty'>Your cart is empty.</p>";
      } else {
        cart.forEach(item => {
          const div = document.createElement("div");
          div.className = "cart-item";
          div.innerHTML = `<h3>${item.name}</h3><p>Price: ₹${item.price}</p>`;
          container.appendChild(div);
        });
      }
    }

    // Load both views on page load
    window.onload = () => {
      renderCart();
      renderCartContainer();
    };
  </script>
</body>
</html>
